apply plugin: 'java'

dependencies {
	compile('uk.ac.ebi.subs:subs-messaging:0.3.0-SNAPSHOT')
	compile project(':subs-ena-agent-common')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	testCompile("junit:junit")
}

task('externalCiTest', type: Test) {
    useJUnit {
        excludeCategories 'uk.ac.ebi.subs.validator.tester.RabbitMQDependentTest'
    }
    testLogging {
        exceptionFormat = 'full'
    }
}

bootRepackage {
    mainClass = "uk.ac.ebi.subs.ena.EnaAgentApplication"
}
springBoot {
    executable = true
}

remotes {
    submission_dev {
        role('dev')
        host = 'mac-subs-010'
    }
    submission_test {
        role('test')
        host = 'mac-subs-011'
    }
    submission_prod {
        role('prod')
        host = 'mac-subs-012'
    }
}